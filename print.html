<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Using Rust</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="characters/characters.html"><strong aria-hidden="true">2.</strong> Cast of Characters</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="characters/alan.html"><strong aria-hidden="true">2.1.</strong> Alan</a></li><li class="chapter-item expanded "><a href="characters/grace.html"><strong aria-hidden="true">2.2.</strong> Grace</a></li><li class="chapter-item expanded "><a href="characters/niklaus.html"><strong aria-hidden="true">2.3.</strong> Niklaus</a></li><li class="chapter-item expanded "><a href="characters/barbara.html"><strong aria-hidden="true">2.4.</strong> Barbara</a></li></ol></li><li class="chapter-item expanded "><a href="stories/stories.html"><strong aria-hidden="true">3.</strong> Stories</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="stories/0000-template.html"><strong aria-hidden="true">3.1.</strong> 0000-template</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Using Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>&quot;Using Rust&quot; is a living document describing what it's like to use Rust. Each
story narrates the challenges encountered by <a href="./characters/characters.html">one of our characters</a> as they
try (and typically fail in dramatic fashion) to achieve their goals.</p>
<p>Writing the stories helps us to compensate for the <a href="https://en.wikipedia.org/wiki/Curse_of_knowledge">curse of knowledge</a>: the folks working on Rust tend to be experts in Rust. We've gotten used to the workarounds required to be productive, and we know the little tips and tricks that can get you out of a jam. The stories help us gauge the cumulative impact all the paper cuts can have on someone still learning their way around. This gives us the data we need to prioritize.</p>
<h3 id="based-on-a-true-story"><a class="header" href="#based-on-a-true-story">Based on a true story</a></h3>
<p>These stories may not be true, but they are not fiction. They are based on real-life experiences of actual people. Each story contains a &quot;Frequently Asked Questions&quot; section referencing sources used to create the story. The &quot;Frequently Asked Questions&quot; section also contains a summary of what the &quot;morals&quot; of the story are (i.e., what are the key takeaways), along with answers to questions that people have raised along the way.</p>
<h3 id="the-stories-provide-data-we-use-to-prioritize-not-a-prioritization-itself"><a class="header" href="#the-stories-provide-data-we-use-to-prioritize-not-a-prioritization-itself">The stories provide data we use to prioritize, not a prioritization itself</a></h3>
<p><strong>Just because a user story is represented here doesn't mean we're going to be able to fix it right now.</strong> Some of these user stories will indicate more severe problems than others. As we consider the stories, we'll select some subset to try and address.</p>
<h2 id="metanarrative"><a class="header" href="#metanarrative">Metanarrative</a></h2>
<p><em>What follows is a kind of &quot;metanarrative&quot; of using Rust that summarizes the challenges that are present today. At each point, we link to the various stories; you can read the full set in the table of contents on the left. We would like to extend this to also cover some of its glories, since reading the current stories is a litany of difficulties, but obviouly we see great promise in Rust. Note that many stories here appear more than once.</em></p>
<p>Rust strives to be a language that brings together performance, productivity, and correctness. Rust programs are designed to surface bugs early and to make common patterns both ergonomic and efficient, leading to a sense that &quot;if it compiles, it generally works, and works efficiently&quot;. Rust aims to extend that same feeling to an async setting, in which a single process interweaves numerous tasks that execute concurrently. Sometimes this works beautifully. However, other times, the reality falls short of that goal.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cast-of-characters"><a class="header" href="#cast-of-characters">Cast of Characters</a></h1>
<h2 id="what-is-this"><a class="header" href="#what-is-this">What is this?</a></h2>
<p>We've created four characters that we use to guide our thinking. These characters are the protagonists of our stories and they help us to think about the different kinds of priorities and expectations that people bring to Async Rust. Having names and personalities also makes the stories more fun and approachable.</p>
<h2 id="the-characters"><a class="header" href="#the-characters">The characters</a></h2>
<ul>
<li><a href="characters/./alan.html">Alan</a>: the experienced &quot;GC'd language&quot; developer, new to Rust
<ul>
<li><em>Top priority</em>: performance -- that's what he is not getting from current GC'd language</li>
<li><em>Expectations</em>: absence of memory safety bugs (he gets that now from his GC), strong ecosystem, great tooling</li>
</ul>
</li>
<li><a href="characters/./grace.html">Grace</a>: the systems programming expert, new to Rust
<ul>
<li><em>Top priority</em>: memory safety -- that's what she is not getting from C/C++</li>
<li><em>Expectations</em>: able to do all the things she's used to from C/C++</li>
</ul>
</li>
<li><a href="characters/./niklaus.html">Niklaus</a>: new programmer from an unconventional background
<ul>
<li><em>Top priority</em>: accessibility -- he's learning a lot of new things at once</li>
<li><em>Expectations</em>: community -- the community enabled him to have early success, and he is excited to have it support him and him grow more</li>
</ul>
</li>
<li><a href="characters/./barbara.html">Barbara</a>: the experienced Rust developer
<ul>
<li><em>Top priority</em>: overall productivity and long-term maintenance -- she loves Rust, and wants to see it extended to new areas; she has an existing code base to maintain</li>
<li><em>Expectations</em>: elegance and craftsmanship, fits well with Rust</li>
</ul>
</li>
</ul>
<h2 id="-frequently-asked-questions"><a class="header" href="#-frequently-asked-questions">🤔 Frequently Asked Questions</a></h2>
<h3 id="where-do-the-names-come-from"><a class="header" href="#where-do-the-names-come-from">Where do the names come from?</a></h3>
<p>Famous programming language designers and theorists. <a href="https://en.wikipedia.org/wiki/Alan_Turing">Alan Turing</a>, <a href="https://en.wikipedia.org/wiki/Grace_Hopper">Grace Hopper</a>, <a href="https://en.wikipedia.org/wiki/Niklaus_Wirth">Niklaus Wirth</a>, and <a href="https://en.wikipedia.org/wiki/Barbara_Liskov">Barbara Liskov</a>.</p>
<h3 id="i-dont-see-myself-in-these-characters-what-should-i-do"><a class="header" href="#i-dont-see-myself-in-these-characters-what-should-i-do">I don't see myself in these characters. What should I do?</a></h3>
<p>Come to Zulip and talk to us about it! Maybe they need to be adjusted!</p>
<h3 id="i-see-myself-in-more-than-one-of-these-characters"><a class="header" href="#i-see-myself-in-more-than-one-of-these-characters">I see myself in more than one of these characters!</a></h3>
<p>Yeah, me too.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cast-of-characters-1"><a class="header" href="#cast-of-characters-1">Cast of characters</a></h1>
<h2 id="alan-the-experienced-gcd-language-developer-new-to-rust"><a class="header" href="#alan-the-experienced-gcd-language-developer-new-to-rust">Alan: the experienced &quot;GC'd language&quot; developer, new to Rust</a></h2>
<h3 id="variant-a-dynamic-languages"><a class="header" href="#variant-a-dynamic-languages">Variant A: Dynamic languages</a></h3>
<p>Alan has been programming for years. He has built systems in Ruby on Rails, node.js, and used Django too. Lately he's been learning Rust and he is tinkering with integrating Rust into some of his projects to get better performance and reliability. He's also building some projects entirely in Rust.</p>
<h3 id="variant-b-java"><a class="header" href="#variant-b-java">Variant B: Java</a></h3>
<p>Alan works at a Java shop. They run a number of network services built in Java, along with some that use Kotlin or Scala. He's very familiar with the Java ecosystem and the tooling that the JVM offers. He's also sometimes had to tweak his code to work around garbage collector latencies or to reduce overall memory usage. He's curious to try porting some systems to Rust to see how it works.</p>
<h3 id="variant-c-kotlin"><a class="header" href="#variant-c-kotlin">Variant C: Kotlin</a></h3>
<p>Alan is developing networking programs in Kotlin. He loves Kotlin for its expressive syntax and clean integration with Java. Still, he sometimes encounters problems running his services due to garbage collection latencies or overall memory usage. He's heard that Rust can be fun to use too, and is curious to try it out.</p>
<h3 id="variant-d-go"><a class="header" href="#variant-d-go">Variant D: Go</a></h3>
<p>Alan develops a distributed database in Go, enjoying its simplicity and first-class treatment of concurrency. He's successfully built a transactional database that handles over 100K QPS. Intrigued by Rust's promise of &quot;fearless concurrency&quot;, Alan tries Rust for more efficient use of memory and CPU. He's curious what classes of errors Rust async prevents and how Rust guarantees its safety without sacrificing the speed.</p>
<h2 id="-frequently-asked-questions-1"><a class="header" href="#-frequently-asked-questions-1">🤔 Frequently Asked Questions</a></h2>
<h3 id="what-does-alan-want-most-from-rust"><a class="header" href="#what-does-alan-want-most-from-rust">What does Alan want most from Rust?</a></h3>
<ul>
<li>The promise of better performance and memory usage than the languages he's been using. Rust's safety guarantees are important too; he's considered using C++ in the past but always judged the maintenance burden would be too high.</li>
</ul>
<h3 id="what-expectations-does-alan-bring-from-his-current-environment"><a class="header" href="#what-expectations-does-alan-bring-from-his-current-environment">What expectations does Alan bring from his current environment?</a></h3>
<ul>
<li>A focus on ease of use, a strong ecosystem, and great tooling.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cast-of-characters-2"><a class="header" href="#cast-of-characters-2">Cast of characters</a></h1>
<h2 id="grace-the-systems-programming-expert-new-to-rust"><a class="header" href="#grace-the-systems-programming-expert-new-to-rust">Grace: the systems programming expert, new to Rust</a></h2>
<p>Grace has been writing C and C++ for a number of years. She's accustomed to hacking lots of low-level details to coax the most performance she can from her code. She's also experienced her share of epic debugging sessions resulting from memory errors in C. She's intrigued by Rust: she likes the idea of getting the same control and performance she gets from C but with the productivity benefits she gets from memory safety. She's currently experimenting with introducing Rust into some of the systems she works on, and she's considering Rust for a few greenfield projects as well.</p>
<h2 id="-frequently-asked-questions-2"><a class="header" href="#-frequently-asked-questions-2">🤔 Frequently Asked Questions</a></h2>
<h3 id="what-does-grace-want-most-from-rust"><a class="header" href="#what-does-grace-want-most-from-rust">What does Grace want most from Rust?</a></h3>
<p>Grace is most interested in memory safety. She is comfortable with C and C++ but she's also aware of the maintenance burden that arises from the lack of memory safety.</p>
<h3 id="what-expectations-does-grace-bring-from-her-current-environment"><a class="header" href="#what-expectations-does-grace-bring-from-her-current-environment">What expectations does Grace bring from her current environment?</a></h3>
<ul>
<li>Grace expects to be able to get the same performance she used to get from C or C++.</li>
<li>Grace is accustomed to various bits of low-level tooling, such as gdb or perf. It's nice if Rust works reasonably well with those tools, but she'd be happy to have access to better alternatives if they were available. She's happy using <code>cargo</code> instead of <code>make</code>, for example.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cast-of-characters-3"><a class="header" href="#cast-of-characters-3">Cast of characters</a></h1>
<h2 id="niklaus-new-programmer-from-an-unconventional-background"><a class="header" href="#niklaus-new-programmer-from-an-unconventional-background">Niklaus: new programmer from an unconventional background</a></h2>
<p>He's always been interested in programming but doesn't have experience with it. He's been working as a tech writer and decided to dip his toe in by opening PRs to improve the documentation for one of the libraries he was playing with. The feedback was positive so he fixed a small bug. He's now considering getting involved in a deeper way.</p>
<h2 id="-frequently-asked-questions-3"><a class="header" href="#-frequently-asked-questions-3">🤔 Frequently Asked Questions</a></h2>
<h3 id="what-does-niklaus-want-most-from-rust"><a class="header" href="#what-does-niklaus-want-most-from-rust">What does Niklaus want most from Rust?</a></h3>
<ul>
<li>Niklaus values accessibility. He's learning a lot of new things at once and it can be overwhelming.</li>
</ul>
<h3 id="what-expectations-does-niklaus-bring-from-his-current-environment"><a class="header" href="#what-expectations-does-niklaus-bring-from-his-current-environment">What expectations does Niklaus bring from his current environment?</a></h3>
<ul>
<li>Niklaus expects a strong and supportive community. The Rust community enabled him to have early success, and he is excited to have it support him and for it to help him grow more.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cast-of-characters-4"><a class="header" href="#cast-of-characters-4">Cast of characters</a></h1>
<h2 id="barbara-the-experienced-rust-developer"><a class="header" href="#barbara-the-experienced-rust-developer">Barbara: the experienced Rust developer</a></h2>
<p>Barbara has been using Rust since the 0.1 release. She remembers some of the crazy syntax in Ye Olde Rust of Yore and secretly still misses the <code>alt</code> keyword (don't tell anyone). Lately she's maintaining various projects in the async space.</p>
<h2 id="-frequently-asked-questions-4"><a class="header" href="#-frequently-asked-questions-4">🤔 Frequently Asked Questions</a></h2>
<h3 id="what-does-barbara-want-most-from-rust"><a class="header" href="#what-does-barbara-want-most-from-rust">What does Barbara want most from Rust?</a></h3>
<ul>
<li>She is using Rust for its feeling of productivity, and she expects new features in Rust to continue in that tradition.</li>
<li>She maintains several existing projects, so stability is important to her.</li>
</ul>
<h3 id="what-expectations-does-barbara-bring-from-her-current-environment"><a class="header" href="#what-expectations-does-barbara-bring-from-her-current-environment">What expectations does Barbara bring from her current environment?</a></h3>
<ul>
<li>She wants a design that feels like the rest of Rust.</li>
<li>She loves Rust and she expects new features in Rust to share its overall values.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stories"><a class="header" href="#stories">Stories</a></h1>
<p>All user stories are contained in this chapter.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="0000-template"><a class="header" href="#0000-template">0000-Template</a></h1>
<p><em>This is a template for adding a new story. To propose a new stories PR, do the following:</em></p>
<ul>
<li><em>Create a new file in the <code>stories</code> directory named something like <code>0000-alan-tries-to-foo.md</code> or <code>0000-grace-does-bar.md</code>, and start from <a href="https://raw.githubusercontent.com/rust-user-experience/using-rust/master/src/stories/0000-template.md">the raw source from this template</a>. You can replace all the italicized stuff. :)</em></li>
<li><em>Do not add a link to your story to the <a href="https://github.com/rust-user-experience/using-rust/blob/master/src/SUMMARY.md"><code>SUMMARY.md</code></a> file; we'll do it after merging, otherwise there will be too many conflicts.</em></li>
</ul>
<p><em>If you're looking for ideas of what to write about, take a look at the <a href="https://github.com/rust-user-experience/using-rust/issues?q=is%3Aopen+is%3Aissue+label%3Astatus-quo-story-ideas">open issues</a>. You can also <a href="https://github.com/rust-user-experience/using-rust/issues/new?assignees=&amp;labels=good+first+issue%2C+help+wanted%2C+status-quo-story-ideas&amp;template=-status-quo--story-issue.md&amp;title=">open an issue of your own</a> to throw out an idea for others.</em></p>
<h2 id="the-story"><a class="header" href="#the-story">The story</a></h2>
<p><em>Write your story here! Feel free to add subsections, citations, links, code examples, whatever you think is best.</em></p>
<h2 id="frequently-asked-questions"><a class="header" href="#frequently-asked-questions">Frequently Asked Questions</a></h2>
<p><em>Here are some standard FAQ to get you started. Feel free to add more!</em></p>
<h3 id="what-are-the-morals-of-the-story"><a class="header" href="#what-are-the-morals-of-the-story"><strong>What are the morals of the story?</strong></a></h3>
<p><em>Talk about the major takeaways-- what do you see as the biggest problems.</em></p>
<h3 id="what-are-the-sources-for-this-story"><a class="header" href="#what-are-the-sources-for-this-story"><strong>What are the sources for this story?</strong></a></h3>
<p><em>Talk about what the story is based on, ideally with links to blog posts, tweets, or other evidence.</em></p>
<h3 id="why-did-you-choose-name-to-tell-this-story"><a class="header" href="#why-did-you-choose-name-to-tell-this-story"><strong>Why did you choose <em>NAME</em> to tell this story?</strong></a></h3>
<p><em>Talk about the character you used for the story and why.</em></p>
<h3 id="how-would-this-story-have-played-out-differently-for-the-other-characters"><a class="header" href="#how-would-this-story-have-played-out-differently-for-the-other-characters"><strong>How would this story have played out differently for the other characters?</strong></a></h3>
<p><em>In some cases, there are problems that only occur for people from specific backgrounds, or which play out differently. This question can be used to highlight that.</em></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
